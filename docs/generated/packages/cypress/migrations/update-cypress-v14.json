{
  "name": "update-cypress-v14",
  "cli": "nx",
  "version": "21.0.0-beta.0",
  "requires": { "cypress": ">=14.0.0" },
  "description": "Update the Cypress configuration and files with the relevant changes needed to support Cypress v14.",
  "implementation": "/packages/cypress/src/migrations/update-21-0-0/update-cypress-v14.ts",
  "aliases": [],
  "hidden": false,
  "path": "/packages/cypress",
  "schema": null,
  "type": "migration",
  "examplesFile": "#### Set `injectDocumentDomain` Configuration Option\n\nSet the new `injectDocumentDomain` configuration option to `true` in the Cypress configuration to not require the usage of the `cy.origin()` command when navigating between domains. The option was introduced to ease the transition to v14, but it is deprecated and will be removed in Cypress v15. Read more at the [migration notes](https://docs.cypress.io/app/references/migration-guide#Changes-to-cyorigin).\n\n{% tabs %}\n{% tab label=\"Before\" %}\n\n```ts {% fileName=\"apps/app1-e2e/cypress.config.ts\" %}\nimport { nxE2EPreset } from '@nx/cypress/plugins/cypress-preset';\nimport { defineConfig } from 'cypress';\n\nexport default defineConfig({\n  e2e: {\n    ...nxE2EPreset(__filename, {\n      cypressDir: 'src',\n      bundler: 'vite',\n      webServerCommands: {\n        default: 'pnpm exec nx run app1:dev',\n        production: 'pnpm exec nx run app1:dev',\n      },\n      ciWebServerCommand: 'pnpm exec nx run app1:dev',\n      ciBaseUrl: 'http://localhost:4200',\n    }),\n    baseUrl: 'http://localhost:4200',\n  },\n});\n```\n\n{% /tab %}\n{% tab label=\"After\" %}\n\n```ts {% fileName=\"apps/app1-e2e/cypress.config.ts\" highlightLines=[16,17] %}\nimport { nxE2EPreset } from '@nx/cypress/plugins/cypress-preset';\nimport { defineConfig } from 'cypress';\n\nexport default defineConfig({\n  e2e: {\n    ...nxE2EPreset(__filename, {\n      cypressDir: 'src',\n      bundler: 'vite',\n      webServerCommands: {\n        default: 'pnpm exec nx run app1:dev',\n        production: 'pnpm exec nx run app1:dev',\n      },\n      ciWebServerCommand: 'pnpm exec nx run app1:dev',\n      ciBaseUrl: 'http://localhost:4200',\n    }),\n    baseUrl: 'http://localhost:4200',\n    // See https://docs.cypress.io/app/references/migration-guide#Changes-to-cyorigin\n    injectDocumentDomain: true,\n  },\n});\n```\n\n{% /tab %}\n\n{% /tabs %}\n"
}
