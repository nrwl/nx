{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://nx.dev/reference/nx-json",
  "title": "JSON schema for Nx configuration",
  "type": "object",
  "properties": {
    "implicitDependencies": {
      "type": "object",
      "description": "Map of files to projects that implicitly depend on them.",
      "deprecated": "Use named inputs instead.  See https://nx.dev/deprecated/global-implicit-dependencies"
    },
    "affected": {
      "type": "object",
      "description": "Default options for `nx affected`.",
      "properties": {
        "defaultBase": {
          "type": "string",
          "description": "Default based branch used by affected commands."
        }
      },
      "additionalProperties": false,
      "deprecated": "Use `defaultBase` instead. Support for setting `defaultBase` in `affected` will be removed in Nx 20."
    },
    "extends": {
      "type": "string",
      "description": "Specifies the base config to extend."
    },
    "defaultBase": {
      "type": "string",
      "description": "Default --base used by affected logic."
    },
    "tasksRunnerOptions": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/tasksRunnerOptions"
      }
    },
    "namedInputs": {
      "type": "object",
      "description": "Named inputs used by inputs defined in targets",
      "additionalProperties": {
        "$ref": "#/definitions/inputs"
      }
    },
    "targetDefaults": {
      "type": "object",
      "description": "Target defaults",
      "additionalProperties": {
        "$ref": "#/definitions/targetDefaultsConfig"
      }
    },
    "workspaceLayout": {
      "type": "object",
      "description": "Where new apps + libs should be placed.",
      "properties": {
        "libsDir": {
          "type": "string",
          "description": "Default folder name for libs."
        },
        "appsDir": {
          "type": "string",
          "description": "Default folder name for apps."
        }
      },
      "additionalProperties": false
    },
    "cli": {
      "$ref": "#/definitions/cliOptions"
    },
    "generators": {
      "$ref": "#/definitions/generatorOptions"
    },
    "plugins": {
      "type": "array",
      "description": "Plugins for extending the project graph.",
      "items": {
        "$ref": "#/definitions/plugins"
      }
    },
    "tui": {
      "type": "object",
      "description": "Settings for the Nx Terminal User Interface (TUI)",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Whether to enable the Terminal UI whenever possible (based on the current environment and terminal).",
          "default": true
        },
        "autoExit": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "type": "number"
            }
          ],
          "description": "Whether to exit the TUI automatically after all tasks finish. If set to `true`, the TUI will exit immediately. If set to `false` the TUI will not automatically exit. If set to a number, an interruptible countdown popup will be shown for that many seconds before the TUI exits.",
          "default": 3
        },
        "suppressHints": {
          "type": "boolean",
          "description": "Whether to suppress hint popups that provide guidance for unhandled keys.",
          "default": false
        }
      },
      "additionalProperties": false
    },
    "defaultProject": {
      "type": "string",
      "description": "Default project. When project isn't provided, the default project will be used."
    },
    "nxCloudAccessToken": {
      "type": "string",
      "description": "The access token to use for nx-cloud. If set, the default tasks runner will be nx-cloud."
    },
    "nxCloudUrl": {
      "type": "string",
      "description": "Specifies the url pointing to an instance of nx cloud. Used for remote caching and displaying run links."
    },
    "nxCloudEncryptionKey": {
      "type": "string",
      "description": "Specifies the encryption key used to encrypt artifacts data before sending it to nx cloud."
    },
    "neverConnectToCloud": {
      "type": "boolean",
      "description": "Setting this to true will cause all attempts to connect your workspace to Nx Cloud to fail. This value does not prevent using Nx Cloud if already connected. Use NX_NO_CLOUD=true env var to prevent using Nx Cloud when running commands."
    },
    "parallel": {
      "type": "number",
      "description": "Specifies how many tasks are ran in parallel by Nx for the default tasks runner."
    },
    "cacheDirectory": {
      "type": "string",
      "description": "Specifies the default location of the cache directory."
    },
    "useDaemonProcess": {
      "type": "boolean",
      "description": "Specifies whether the daemon should be used for the default tasks runner."
    },
    "useInferencePlugins": {
      "type": "boolean",
      "description": "Specifies whether to add inference plugins when generating new projects."
    },
    "release": {
      "type": "object",
      "description": "Configuration for the nx release commands.",
      "additionalProperties": false,
      "properties": {
        "projects": {
          "oneOf": [
            {
              "type": "string",
              "description": "A project name"
            },
            {
              "type": "array",
              "description": "An array of project names",
              "minItems": 1,
              "items": {
                "type": "string"
              }
            }
          ]
        },
        "groups": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "projectsRelationship": {
                "type": "string",
                "enum": ["fixed", "independent"]
              },
              "projects": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "A project name"
                  },
                  {
                    "type": "array",
                    "description": "An array of project names",
                    "minItems": 1,
                    "items": {
                      "type": "string"
                    }
                  }
                ]
              },
              "version": {
                "$ref": "#/definitions/NxReleaseGroupVersionConfiguration"
              },
              "changelog": {
                "oneOf": [
                  {
                    "$ref": "#/definitions/NxReleaseChangelogConfiguration"
                  },
                  {
                    "type": "boolean"
                  }
                ]
              },
              "releaseTag": {
                "type": "object",
                "description": "Configuration for release tag generation and matching.",
                "properties": {
                  "pattern": {
                    "type": "string",
                    "description": "Optionally override the git/release tag pattern to use for this group."
                  },
                  "checkAllBranchesWhen": {
                    "oneOf": [
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    ],
                    "description": "By default, we will try and resolve the latest match for the releaseTagPattern from the current branch, falling back to all branches if no match is found on the current branch. Setting this to true will cause us to ALWAYS check all branches for the latest match. Setting it to false will cause us to ONLY check the current branch for the latest match. Setting it to an array of strings will cause us to check all branches WHEN the current branch is one of the strings in the array. Glob patterns are supported."
                  },
                  "requireSemver": {
                    "type": "boolean",
                    "description": "Whether to require semver to be used for the release tag pattern. If set to false, the release tag pattern will not be checked for semver compliance."
                  },
                  "preferDockerVersion": {
                    "type": ["boolean", "string"],
                    "enum": [true, false, "both"],
                    "description": "Controls how docker versions are used relative to semver versions when creating git tags and changelog entries. Set to true to use only the docker version, false to use only the semver version, or 'both' to create tags and changelog entries for both docker and semver versions. By default, this is set to true when docker configuration is present, and false otherwise."
                  },
                  "strictPreid": {
                    "$ref": "#/definitions/NxReleaseReleaseTagPatternStrictPreidConfiguration"
                  }
                },
                "additionalProperties": false
              },
              "releaseTagPattern": {
                "type": "string",
                "description": "DEPRECATED: Use releaseTag.pattern instead. Will be removed in Nx 23."
              },
              "releaseTagPatternCheckAllBranchesWhen": {
                "oneOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                ],
                "description": "DEPRECATED: Use releaseTag.checkAllBranchesWhen instead. Will be removed in Nx 23."
              },
              "releaseTagPatternRequireSemver": {
                "type": "boolean",
                "description": "DEPRECATED: Use releaseTag.requireSemver instead. Will be removed in Nx 23."
              },
              "releaseTagPatternPreferDockerVersion": {
                "type": ["boolean", "string"],
                "enum": [true, false, "both"],
                "description": "DEPRECATED: Use releaseTag.preferDockerVersion instead. Will be removed in Nx 23."
              },
              "releaseTagPatternStrictPreid": {
                "$ref": "#/definitions/NxReleaseReleaseTagPatternStrictPreidConfiguration",
                "description": "DEPRECATED: Use releaseTag.strictPreid instead. Will be removed in Nx 23."
              },
              "versionPlans": {
                "oneOf": [
                  {
                    "$ref": "#/definitions/NxReleaseVersionPlansConfiguration"
                  },
                  {
                    "type": "boolean",
                    "description": "Enables using version plans as a specifier source for versioning and to determine changes for changelog generation."
                  }
                ]
              },
              "docker": {
                "oneOf": [
                  {
                    "type": "boolean",
                    "enum": [true],
                    "description": "Enable docker configuration with default settings. Warning: Docker support is experimental. Breaking changes may occur and not adhere to semver versioning. "
                  },
                  {
                    "$ref": "#/definitions/NxReleaseGroupDockerConfiguration"
                  }
                ]
              }
            },
            "required": ["projects"]
          }
        },
        "changelog": {
          "type": "object",
          "properties": {
            "workspaceChangelog": {
              "oneOf": [
                {
                  "$ref": "#/definitions/NxReleaseChangelogConfiguration"
                },
                {
                  "type": "boolean"
                }
              ]
            },
            "projectChangelogs": {
              "oneOf": [
                {
                  "$ref": "#/definitions/NxReleaseChangelogConfiguration"
                },
                {
                  "type": "boolean"
                }
              ]
            },
            "automaticFromRef": {
              "type": "boolean",
              "description": "Whether or not to automatically look up the first commit for the workspace (or package, if versioning independently) and use that as the starting point for changelog generation. If this is not enabled, changelog generation will fail if there is no previous matching git tag to use as a starting point."
            },
            "git": {
              "$ref": "#/definitions/NxReleaseGitConfiguration"
            }
          }
        },
        "conventionalCommits": {
          "$ref": "#/definitions/NxReleaseConventionalCommitsConfiguration"
        },
        "projectsRelationship": {
          "type": "string",
          "enum": ["fixed", "independent"]
        },
        "git": {
          "$ref": "#/definitions/NxReleaseGitConfiguration"
        },
        "version": {
          "$ref": "#/definitions/NxReleaseVersionConfiguration"
        },
        "versionPlans": {
          "oneOf": [
            {
              "$ref": "#/definitions/NxReleaseVersionPlansConfiguration"
            },
            {
              "type": "boolean",
              "description": "Enables using version plans as a specifier source for versioning and to determine changes for changelog generation."
            }
          ]
        },
        "releaseTag": {
          "type": "object",
          "description": "Configuration for release tag generation and matching.",
          "properties": {
            "pattern": {
              "type": "string",
              "description": "Optionally override the git/release tag pattern to use. This field is the source of truth for changelog generation and release tagging, as well as for conventional commits parsing. It supports interpolating the version as {version} and (if releasing independently or forcing project level version control system releases) the project name as {projectName} within the string. The default releaseTagPattern for fixed/unified releases is: \"v{version}\". The default releaseTagPattern for independent releases at the project level is: \"{projectName}@{version}\""
            },
            "checkAllBranchesWhen": {
              "oneOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "description": "By default, we will try and resolve the latest match for the releaseTagPattern from the current branch, falling back to all branches if no match is found on the current branch. Setting this to true will cause us to ALWAYS check all branches for the latest match. Setting it to false will cause us to ONLY check the current branch for the latest match. Setting it to an array of strings will cause us to check all branches WHEN the current branch is one of the strings in the array. Glob patterns are supported."
            },
            "requireSemver": {
              "type": "boolean",
              "description": "Whether to require semver to be used for the release tag pattern. If set to false, the release tag pattern will not be checked for semver compliance."
            },
            "preferDockerVersion": {
              "type": ["boolean", "string"],
              "enum": [true, false, "both"],
              "description": "Controls how docker versions are used relative to semver versions when creating git tags and changelog entries. Set to true to use only the docker version, false to use only the semver version, or 'both' to create tags and changelog entries for both docker and semver versions. By default, this is set to true when docker configuration is present, and false otherwise."
            },
            "strictPreid": {
              "$ref": "#/definitions/NxReleaseReleaseTagPatternStrictPreidConfiguration"
            }
          },
          "additionalProperties": false
        },
        "releaseTagPattern": {
          "type": "string",
          "description": "DEPRECATED: Use releaseTag.pattern instead. Will be removed in Nx 23."
        },
        "releaseTagPatternCheckAllBranchesWhen": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          ],
          "description": "DEPRECATED: Use releaseTag.checkAllBranchesWhen instead. Will be removed in Nx 23."
        },
        "releaseTagPatternRequireSemver": {
          "type": "boolean",
          "description": "DEPRECATED: Use releaseTag.requireSemver instead. Will be removed in Nx 23."
        },
        "releaseTagPatternPreferDockerVersion": {
          "type": ["boolean", "string"],
          "enum": [true, false, "both"],
          "description": "DEPRECATED: Use releaseTag.preferDockerVersion instead. Will be removed in Nx 23."
        },
        "releaseTagPatternStrictPreid": {
          "$ref": "#/definitions/NxReleaseReleaseTagPatternStrictPreidConfiguration",
          "description": "DEPRECATED: Use releaseTag.strictPreid instead. Will be removed in Nx 23."
        },
        "docker": {
          "oneOf": [
            {
              "type": "boolean",
              "enum": [true],
              "description": "Enable docker configuration with default settings. Warning: Docker support is experimental. Breaking changes may occur and not adhere to semver versioning."
            },
            {
              "$ref": "#/definitions/NxReleaseDockerConfiguration"
            }
          ]
        }
      }
    },
    "sync": {
      "type": "object",
      "description": "Configuration for the `nx sync` command",
      "properties": {
        "globalGenerators": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of workspace-wide sync generators to be run (not attached to targets)"
        },
        "generatorOptions": {
          "type": "object",
          "description": "Options for the sync generators.",
          "additionalProperties": {
            "type": "object"
          }
        },
        "applyChanges": {
          "type": "boolean",
          "description": "Whether to automatically apply sync generator changes when running tasks. If not set, the user will be prompted. If set to `true`, the user will not be prompted and the changes will be applied. If set to `false`, the user will not be prompted and the changes will not be applied."
        },
        "disabledTaskSyncGenerators": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of registered task sync generators to disable."
        }
      },
      "additionalProperties": false
    },
    "conformance": {
      "type": "object",
      "description": "Configuration for Nx Conformance",
      "properties": {
        "outputPath": {
          "oneOf": [
            {
              "type": "string",
              "description": "Path to write the conformance results to"
            },
            {
              "type": "boolean",
              "enum": [false],
              "description": "Disable writing the conformance results to a file"
            }
          ],
          "description": "Optional path to write the conformance results to, defaults to 'dist/conformance-result.json'. Set to false to disable writing the conformance results to a file."
        },
        "rules": {
          "type": "array",
          "description": "List of conformance rules to apply",
          "items": {
            "type": "object",
            "properties": {
              "rule": {
                "type": "string",
                "description": "Relative path to a local rule implementation, node_module path or nx-cloud rule ID for Nx Cloud Enterprise."
              },
              "options": {
                "type": "object",
                "description": "Rule specific configuration options.",
                "additionalProperties": true
              },
              "projects": {
                "type": "array",
                "description": "The projects to apply this rule to. This property accepts an array of strings which can be project names, glob patterns, directories, tag references or anything else that is supported by the `--projects` filter. By default, the implied value is ['*'] (all projects). You can also use objects with 'matcher' and 'explanation' properties to document why specific projects are included or excluded.",
                "items": {
                  "oneOf": [
                    {
                      "type": "string",
                      "description": "A project name, glob pattern, directory, tag reference, or any other valid project filter"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "matcher": {
                          "type": "string",
                          "description": "A project name, glob pattern, directory, tag reference, or any other valid project filter"
                        },
                        "explanation": {
                          "type": "string",
                          "description": "An explanation to communicate to colleagues why this particular project or projects were included or excluded from the rule"
                        }
                      },
                      "required": ["matcher", "explanation"],
                      "additionalProperties": false
                    }
                  ]
                }
              },
              "explanation": {
                "type": "string",
                "description": "Optional explanation field for users to be able to communicate to their colleagues why a particular rule is enabled and important to the workspace in question."
              },
              "status": {
                "type": "string",
                "enum": ["enforced", "evaluated", "disabled"],
                "description": "Override the default status of the rule, which is 'enforced'. If set to 'evaluated', the rule will be reported as normal, but not enforced (will exit with code 0). If set to 'disabled', the rule will not be evaluated at all.",
                "default": "enforced"
              }
            },
            "required": ["rule"],
            "additionalProperties": false
          }
        }
      },
      "required": ["rules"],
      "additionalProperties": false
    }
  },
  "definitions": {
    "inputs": {
      "type": "array",
      "items": {
        "oneOf": [
          {
            "type": "string"
          },
          {
            "type": "object",
            "properties": {
              "fileset": {
                "type": "string",
                "description": "A glob"
              }
            },
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "projects": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "The project that the targets belong to."
                  },
                  {
                    "type": "array",
                    "description": "The projects that the targets belong to.",
                    "items": {
                      "type": "string"
                    }
                  }
                ]
              },
              "dependencies": {
                "type": "boolean",
                "description": "Include files belonging to the input for all the project dependencies of this target."
              },
              "input": {
                "type": "string",
                "description": "The name of the input."
              }
            },
            "oneOf": [
              {
                "required": ["projects", "input"]
              },
              {
                "required": ["dependencies", "input"]
              },
              {
                "required": ["input"],
                "not": {
                  "anyOf": [
                    {
                      "required": ["projects"]
                    },
                    {
                      "required": ["dependencies"]
                    }
                  ]
                }
              }
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "runtime": {
                "type": "string",
                "description": "The command that will be executed and the results of which is added to the hash"
              }
            },
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "env": {
                "type": "string",
                "description": "The name of the env var which value is added to the hash"
              }
            },
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "externalDependencies": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "The list of external dependencies that our target depends on for `nx:run-commands` and community plugins."
              }
            },
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "dependentTasksOutputFiles": {
                "type": "string",
                "description": "The glob list of output files that project depends on."
              },
              "transitive": {
                "type": "boolean",
                "description": "Whether the check for outputs should be recursive or stop at the first level of dependencies."
              }
            },
            "required": ["dependentTasksOutputFiles"],
            "additionalProperties": false
          }
        ]
      }
    },
    "cliOptions": {
      "type": "object",
      "description": "Default generator collection.",
      "properties": {
        "packageManager": {
          "type": "string",
          "description": "The default package manager to use.",
          "enum": ["yarn", "pnpm", "npm", "bun"]
        }
      }
    },
    "generatorOptions": {
      "type": "object",
      "description": "List of default values used by generators."
    },
    "tasksRunnerOptions": {
      "type": "object",
      "description": "Available Task Runners.",
      "properties": {
        "runner": {
          "type": "string",
          "description": "Path to resolve the runner."
        },
        "options": {
          "type": "object",
          "description": "Default options for the runner.",
          "properties": {
            "accessToken": {
              "type": "string"
            },
            "nxCloudId": {
              "type": "string"
            },
            "captureStderr": {
              "type": "boolean",
              "description": "Defines whether the cache captures stderr or just stdout."
            },
            "parallel": {
              "type": "number",
              "description": "Defines the max number of targets ran in parallel."
            },
            "cacheableOperations": {
              "type": "array",
              "description": "Defines the list of targets/operations that are cached by Nx.",
              "items": {
                "type": "string"
              }
            },
            "cacheDirectory": {
              "type": "string",
              "description": "Defines where the local cache is stored."
            },
            "skipNxCache": {
              "type": "boolean",
              "description": "Defines whether the Nx Cache should be skipped."
            },
            "encryptionKey": {
              "type": "string",
              "description": "Defines an encryption key to support end-to-end encryption of your cloud cache. You may also provide an environment variable with the key NX_CLOUD_ENCRYPTION_KEY that contains an encryption key as its value. The Nx Cloud task runner normalizes the key length, so any length of key is acceptable."
            }
          }
        }
      },
      "additionalProperties": false
    },
    "targetDefaultsConfig": {
      "type": "object",
      "description": "Target defaults",
      "properties": {
        "executor": {
          "description": "The function that Nx will invoke when you run this target",
          "type": "string"
        },
        "options": {
          "type": "object"
        },
        "outputs": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "defaultConfiguration": {
          "type": "string",
          "description": "The name of a configuration to use as the default if a configuration is not provided"
        },
        "configurations": {
          "type": "object",
          "description": "provides extra sets of values that will be merged into the options map",
          "additionalProperties": {
            "type": "object"
          }
        },
        "continuous": {
          "type": "boolean",
          "default": false,
          "description": "Whether this target runs continuously until stopped"
        },
        "parallelism": {
          "type": "boolean",
          "default": true,
          "description": "Whether this target can be run in parallel with other tasks"
        },
        "inputs": {
          "$ref": "#/definitions/inputs"
        },
        "dependsOn": {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "object",
                "properties": {
                  "projects": {
                    "oneOf": [
                      {
                        "type": "string",
                        "description": "A project name"
                      },
                      {
                        "type": "array",
                        "description": "An array of project names",
                        "minItems": 1,
                        "items": {
                          "type": "string"
                        }
                      }
                    ]
                  },
                  "dependencies": {
                    "type": "boolean"
                  },
                  "target": {
                    "type": "string",
                    "description": "The name of the target."
                  },
                  "params": {
                    "type": "string",
                    "description": "Configuration for params handling.",
                    "enum": ["ignore", "forward"],
                    "default": "ignore"
                  }
                },
                "oneOf": [
                  {
                    "required": ["projects", "target"]
                  },
                  {
                    "required": ["dependencies", "target"]
                  },
                  {
                    "required": ["target"],
                    "not": {
                      "anyOf": [
                        {
                          "required": ["projects"]
                        },
                        {
                          "required": ["dependencies"]
                        }
                      ]
                    }
                  }
                ],
                "additionalProperties": false
              }
            ]
          }
        },
        "cache": {
          "type": "boolean",
          "description": "Specifies if the given target should be cacheable"
        },
        "syncGenerators": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of generators to run before the target to ensure the workspace is up to date"
        }
      },
      "additionalProperties": false
    },
    "plugins": {
      "oneOf": [
        {
          "type": "string",
          "description": "A plugin module to load with default options"
        },
        {
          "type": "object",
          "properties": {
            "plugin": {
              "type": "string",
              "description": "The plugin module to load"
            },
            "options": {
              "type": "object",
              "description": "The options passed to the plugin when creating nodes and dependencies"
            },
            "include": {
              "type": "array",
              "description": "File patterns which are included by the plugin",
              "items": {
                "type": "string"
              }
            },
            "exclude": {
              "type": "array",
              "description": "File patterns which are excluded by the plugin",
              "items": {
                "type": "string"
              }
            }
          }
        }
      ]
    },
    "NxReleaseGitConfiguration": {
      "type": "object",
      "properties": {
        "commit": {
          "type": "boolean",
          "description": "Whether or not to automatically commit the changes made by current command"
        },
        "commitMessage": {
          "type": "string",
          "description": "Custom git commit message to use when committing the changes made by this command"
        },
        "commitArgs": {
          "type": ["string", "array"],
          "description": "Additional arguments (added after the --message argument, which may or may not be customized with --git-commit-message) to pass to the `git commit` command invoked behind the scenes"
        },
        "stageChanges": {
          "type": "boolean",
          "description": "Whether or not to stage the changes made by this command. Always treated as true if commit is true."
        },
        "tag": {
          "type": "boolean",
          "description": "Whether or not to automatically tag the changes made by this command"
        },
        "tagMessage": {
          "type": "string",
          "description": "Custom git tag message to use when tagging the changes made by this command. This defaults to be the same value as the tag itself."
        },
        "tagArgs": {
          "type": ["string", "array"],
          "description": "Additional arguments to pass to the `git tag` command invoked behind the scenes"
        },
        "push": {
          "type": "boolean",
          "description": "Whether or not to automatically push the changes made by this command. This defaults to false"
        },
        "pushArgs": {
          "type": ["string", "array"],
          "description": "Additional arguments to pass to the `git push` command invoked behind the scenes"
        }
      }
    },
    "NxReleaseVersionConfiguration": {
      "type": "object",
      "description": "Configuration for the versioning phase of releases.",
      "additionalProperties": false,
      "properties": {
        "conventionalCommits": {
          "type": "boolean",
          "description": "Shorthand for enabling the current version of projects to be resolved from git tags, and the next version to be determined by analyzing commit messages according to the Conventional Commits specification.",
          "default": false
        },
        "git": {
          "$ref": "#/definitions/NxReleaseGitConfiguration"
        },
        "preVersionCommand": {
          "type": "string",
          "description": "A command to run after validation of nx release configuration, but before versioning begins. Useful for preparing build artifacts. If --dry-run is passed, the command is still executed, but with the NX_DRY_RUN environment variable set to 'true'."
        },
        "specifierSource": {
          "type": "string",
          "enum": ["prompt", "conventional-commits", "version-plans"],
          "default": "prompt",
          "description": "The source to use for determining the specifier to use when versioning. 'prompt' is the default and will interactively prompt the user for an explicit/imperative specifier. 'conventional-commits' will attempt determine a specifier from commit messages conforming to the Conventional Commits specification. 'version-plans' will determine the specifier from the version plan files available on disk."
        },
        "manifestRootsToUpdate": {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "type": "string",
                "description": "Path to the directory containing a manifest file to update. Supports placeholders like {projectRoot} and {projectName}."
              },
              {
                "type": "object",
                "properties": {
                  "path": {
                    "type": "string",
                    "description": "Path to the directory containing a manifest file to update. Supports placeholders like {projectRoot} and {projectName}."
                  },
                  "preserveLocalDependencyProtocols": {
                    "type": "boolean",
                    "description": "Whether to preserve local dependency references using protocols like 'workspace:' or 'file:'. Set this to false for dist files that need to be published if not using a package manager that swaps references at publish time like pnpm or bun.",
                    "default": true
                  }
                },
                "required": ["path"],
                "additionalProperties": false
              }
            ]
          },
          "description": "A list of directories containing manifest files (such as package.json) to apply updates to when versioning. By default, only the project root will be used, but you could customize this to only version a manifest in a dist directory, or even version multiple manifests in different directories, such as both source and dist."
        },
        "currentVersionResolver": {
          "type": "string",
          "enum": ["registry", "disk", "git-tag", "none"],
          "description": "The resolver to use for determining the current version of a project during versioning. This is needed for versioning approaches which involve relatively modifying a current version to arrive at a new version, such as semver bumps like 'patch', 'minor' etc. Using 'none' explicitly declares that the current version is not needed to compute the new version, and should only be used with appropriate version actions implementations that support it."
        },
        "currentVersionResolverMetadata": {
          "type": "object",
          "additionalProperties": true,
          "description": "Metadata to provide to the configured currentVersionResolver to help it in determining the current version. What to pass here is specific to each resolver."
        },
        "fallbackCurrentVersionResolver": {
          "type": "string",
          "enum": ["disk"],
          "description": "The fallback version resolver to use when the configured currentVersionResolver fails to resolve the current version."
        },
        "versionPrefix": {
          "type": "string",
          "enum": ["auto", "", "~", "^", "="],
          "default": "auto",
          "description": "The prefix to use when versioning dependencies. This can be one of the following: auto, '', '~', '^', '=', where auto means the existing prefix will be preserved."
        },
        "deleteVersionPlans": {
          "type": "boolean",
          "description": "Whether to delete the processed version plans file after versioning is complete. This is false by default because the version plans are also needed for changelog generation.",
          "default": false
        },
        "updateDependents": {
          "type": "string",
          "enum": ["never", "auto", "always"],
          "default": "auto",
          "description": "When versioning independent projects, this controls whether to update their dependents (i.e. the things that depend on them). 'never' means no dependents will be updated (unless they happen to be versioned directly as well). 'auto' is the default and will cause dependents to be updated (a patch version bump) when a dependency is versioned, as long as a group or projects filter is not applied that does not include them. 'always' will cause dependents to be updated (a patch version bump) when a dependency is versioned, even if they are not included in the group or projects filter."
        },
        "logUnchangedProjects": {
          "type": "boolean",
          "description": "Whether to log projects that have not changed during versioning.",
          "default": true
        },
        "preserveLocalDependencyProtocols": {
          "type": "boolean",
          "description": "Whether to preserve local dependency protocols (e.g. file references, or the `workspace:` protocol in package.json files) of local dependencies when updating them during versioning.",
          "default": true
        },
        "preserveMatchingDependencyRanges": {
          "type": ["boolean", "array"],
          "description": "Whether to preserve matching dependency ranges when updating them during versioning. This is true by default. (e.g. The new version will be '1.2.0' and the current version range in dependents is already '^1.0.0'. Therefore, the manifest file is not updated.)",
          "default": true,
          "items": {
            "type": "string",
            "enum": [
              "dependencies",
              "devDependencies",
              "peerDependencies",
              "optionalDependencies"
            ]
          }
        },
        "adjustSemverBumpsForZeroMajorVersion": {
          "type": "boolean",
          "description": "Whether to strictly follow SemVer V2 spec for 0.x versions where breaking changes bump the minor version (instead of major), and new features bump the patch version (instead of minor). When enabled: 'major' bumps become 'minor' bumps for 0.x versions, 'minor' bumps become 'patch' bumps for 0.x versions. Versions 1.0.0 and above are unaffected. This is false by default for backward compatibility.",
          "default": false
        },
        "versionActions": {
          "type": "string",
          "description": "The path to the version actions implementation to use for releasing all projects by default. This can also be overridden on the release group and project levels.",
          "default": "@nx/js/src/release"
        },
        "versionActionsOptions": {
          "type": "object",
          "description": "The specific options that are defined by each version actions implementation. They will be passed to the version actions implementation when running a release.",
          "additionalProperties": true
        }
      }
    },
    "NxReleaseGroupVersionConfiguration": {
      "type": "object",
      "properties": {
        "groupPreVersionCommand": {
          "type": "string",
          "description": "A command to run after validation of nx release configuration AND after the release.version.preVersionCommand (if any), but before versioning begins for this specific group. Useful for preparing build artifacts for the group. If --dry-run is passed, the command is still executed, but with the NX_DRY_RUN environment variable set to 'true'."
        },
        "conventionalCommits": {
          "type": "boolean",
          "description": "Shorthand for enabling the current version of projects to be resolved from git tags, and the next version to be determined by analyzing commit messages according to the Conventional Commits specification.",
          "default": false
        },
        "git": {
          "$ref": "#/definitions/NxReleaseGitConfiguration"
        },
        "specifierSource": {
          "type": "string",
          "enum": ["prompt", "conventional-commits", "version-plans"],
          "default": "prompt",
          "description": "The source to use for determining the specifier to use when versioning. 'prompt' is the default and will interactively prompt the user for an explicit/imperative specifier. 'conventional-commits' will attempt determine a specifier from commit messages conforming to the Conventional Commits specification. 'version-plans' will determine the specifier from the version plan files available on disk."
        },
        "manifestRootsToUpdate": {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "type": "string",
                "description": "Path to the directory containing a manifest file to update. Supports placeholders like {projectRoot} and {projectName}."
              },
              {
                "type": "object",
                "properties": {
                  "path": {
                    "type": "string",
                    "description": "Path to the directory containing a manifest file to update. Supports placeholders like {projectRoot} and {projectName}."
                  },
                  "preserveLocalDependencyProtocols": {
                    "type": "boolean",
                    "description": "Whether to preserve local dependency references using protocols like 'workspace:' or 'file:'. Set this to false for dist files that need to be published if not using a package manager that swaps references at publish time like pnpm or bun.",
                    "default": true
                  }
                },
                "required": ["path"],
                "additionalProperties": false
              }
            ]
          },
          "description": "A list of directories containing manifest files (such as package.json) to apply updates to when versioning. By default, only the project root will be used, but you could customize this to only version a manifest in a dist directory, or even version multiple manifests in different directories, such as both source and dist."
        },
        "currentVersionResolver": {
          "type": "string",
          "enum": ["registry", "disk", "git-tag", "none"],
          "description": "The resolver to use for determining the current version of a project during versioning. This is needed for versioning approaches which involve relatively modifying a current version to arrive at a new version, such as semver bumps like 'patch', 'minor' etc. Using 'none' explicitly declares that the current version is not needed to compute the new version, and should only be used with appropriate version actions implementations that support it."
        },
        "currentVersionResolverMetadata": {
          "type": "object",
          "additionalProperties": true,
          "description": "Metadata to provide to the configured currentVersionResolver to help it in determining the current version. What to pass here is specific to each resolver."
        },
        "fallbackCurrentVersionResolver": {
          "type": "string",
          "enum": ["disk"],
          "description": "The fallback version resolver to use when the configured currentVersionResolver fails to resolve the current version."
        },
        "versionPrefix": {
          "type": "string",
          "enum": ["auto", "", "~", "^", "="],
          "default": "auto",
          "description": "The prefix to use when versioning dependencies. This can be one of the following: auto, '', '~', '^', '=', where auto means the existing prefix will be preserved."
        },
        "deleteVersionPlans": {
          "type": "boolean",
          "description": "Whether to delete the processed version plans file after versioning is complete. This is false by default because the version plans are also needed for changelog generation.",
          "default": false
        },
        "updateDependents": {
          "type": "string",
          "enum": ["never", "auto"],
          "default": "auto",
          "description": "When versioning independent projects, this controls whether to update their dependents (i.e. the things that depend on them). 'never' means no dependents will be updated (unless they happen to be versioned directly as well). 'auto' is the default and will cause dependents to be updated (a patch version bump) when a dependency is versioned."
        },
        "logUnchangedProjects": {
          "type": "boolean",
          "description": "Whether to log projects that have not changed during versioning.",
          "default": true
        },
        "preserveLocalDependencyProtocols": {
          "type": "boolean",
          "description": "Whether to preserve local dependency protocols (e.g. file references, or the `workspace:` protocol in package.json files) of local dependencies when updating them during versioning.",
          "default": true
        },
        "preserveMatchingDependencyRanges": {
          "type": ["boolean", "array"],
          "description": "Whether to preserve matching dependency ranges when updating them during versioning. This is false by default. (e.g. The new version will be '1.2.0' and the current version range in dependents is already '^1.0.0'. Therefore, the manifest file is not updated.)",
          "default": false,
          "items": {
            "type": "string",
            "enum": [
              "dependencies",
              "devDependencies",
              "peerDependencies",
              "optionalDependencies"
            ]
          }
        },
        "adjustSemverBumpsForZeroMajorVersion": {
          "type": "boolean",
          "description": "Whether to apply the common convention for 0.x versions where breaking changes bump the minor version (instead of major), and new features bump the patch version (instead of minor). When enabled: 'major' bumps become 'minor' bumps for 0.x versions, 'minor' bumps become 'patch' bumps for 0.x versions. Versions 1.0.0 and above are unaffected. This is false by default for backward compatibility.",
          "default": false
        },
        "versionActions": {
          "type": "string",
          "description": "The path to the version actions implementation to use for releasing all projects by default. This can also be overridden on the release group and project levels.",
          "default": "@nx/js/src/release"
        },
        "versionActionsOptions": {
          "type": "object",
          "description": "The specific options that are defined by each version actions implementation. They will be passed to the version actions implementation when running a release.",
          "additionalProperties": true
        }
      },
      "additionalProperties": false
    },
    "NxReleaseChangelogConfiguration": {
      "type": "object",
      "properties": {
        "createRelease": {
          "oneOf": [
            {
              "type": "string",
              "enum": ["github", "gitlab"]
            },
            {
              "type": "boolean",
              "enum": [false]
            },
            {
              "$ref": "#/definitions/CreateReleaseProviderConfiguration"
            }
          ]
        },
        "entryWhenNoChanges": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "boolean",
              "enum": [false]
            }
          ]
        },
        "file": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "boolean",
              "enum": [false]
            }
          ]
        },
        "renderer": {
          "type": "string"
        },
        "renderOptions": {
          "$ref": "#/definitions/ChangelogRenderOptions"
        }
      }
    },
    "CreateReleaseProviderConfiguration": {
      "type": "object",
      "properties": {
        "provider": {
          "type": "string",
          "enum": ["github-enterprise-server", "gitlab"]
        },
        "hostname": {
          "type": "string",
          "description": "The hostname of the VCS provider instance, e.g. github.example.com"
        },
        "apiBaseUrl": {
          "type": "string",
          "description": "The base URL for the relevant VCS provider API. If not set, this will default to `https://${hostname}/api/v3` (github) or `https://${hostname}/api/v4` (gitlab)."
        }
      },
      "required": ["provider", "hostname"]
    },
    "NxReleaseVersionPlansConfiguration": {
      "type": "object",
      "properties": {
        "ignorePatternsForPlanCheck": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Changes to files matching any of these optional patterns will be excluded from the affected project logic within the `nx release plan:check` command. This is useful for ignoring files that are not relevant to the versioning process, such as documentation or configuration files."
        }
      }
    },
    "NxReleaseReleaseTagPatternStrictPreidConfiguration": {
      "type": "boolean",
      "description": "When set to true and multiple tags match your configured \"releaseTagPattern\", the git tag matching logic will strictly prefer the tag which contain a semver preid which matches the one given to the nx release invocation.\n\nFor example, let's say your \"releaseTagPattern\" is \"{projectName}@{version}\" and you have the following tags for project \"my-lib\", which uses semver:\n- my-lib@1.2.4-beta.1\n- my-lib@1.2.4-alpha.1\n- my-lib@1.2.3\n\nIf \"releaseTagPatternStrictPreid\" is set to true and you run:\n- `nx release --preid beta`, the git tag \"my-lib@1.2.4-beta.1\" will be resolved.\n- `nx release --preid alpha`, the git tag \"my-lib@1.2.4-alpha.1\" will be resolved.\n- `nx release` (no preid), the git tag \"my-lib@1.2.3\" will be resolved.\n\nIf \"releaseTagPatternStrictPreid\" is set to false, the git tag \"my-lib@1.2.4-beta.1\" will always be resolved as the latest tag that matches the pattern, regardless of any preid which gets passed to nx release.\n\nNOTE: This feature was added in a minor version and is therefore set to false by default, but this may change in a future major version."
    },
    "ChangelogRenderOptions": {
      "type": "object",
      "additionalProperties": true
    },
    "NxReleaseConventionalCommitsConfiguration": {
      "type": "object",
      "properties": {
        "useCommitScope": {
          "type": "boolean",
          "description": "Whether or not to rely on commit scope to resolve version specifier.\nIf set to 'true', then only commits with scope matching projectName and commits without scope affects version determined, rest are assumed as patch change.\nIf set to 'false', then all commits that affected project used to determine semver change.\nIf not set, this will default to 'true'"
        },
        "types": {
          "type": "object",
          "description": "A map of commit types to their configuration. If a type is set to 'true', then it will be enabled with the default 'semverBump' of 'patch' and will appear in the changelog. If a type is set to 'false', then it will not trigger a version bump and will be hidden from the changelog.",
          "additionalProperties": {
            "oneOf": [
              {
                "type": "boolean"
              },
              {
                "type": "object",
                "properties": {
                  "semverBump": {
                    "type": "string",
                    "enum": ["major", "minor", "patch", "none"],
                    "description": "The semver bump to apply to the version of the project(s) when a commit of this type is included in the release.",
                    "default": "patch"
                  },
                  "changelog": {
                    "description": "Configuration for the changelog section for commits of this type. If set to 'true', then commits of this type will be included in the changelog with their default title for the type. If set to 'false', then commits of this type will not be included in the changelog.",
                    "oneOf": [
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "title": {
                            "type": "string",
                            "description": "The title of the section in the changelog for commits of this type"
                          },
                          "hidden": {
                            "type": "boolean",
                            "description": "Whether or not to include commits of this type in the changelog",
                            "default": false
                          }
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    },
    "NxReleaseDockerConfiguration": {
      "type": "object",
      "description": "Configuration for handling Docker projects during nx release.",
      "properties": {
        "preVersionCommand": {
          "type": "string",
          "description": "A command to run after validation of nx release configuration, but before docker versioning begins. Useful for preparing docker build artifacts. If --dry-run is passed, the command is still executed, but with the NX_DRY_RUN environment variable set to 'true'."
        },
        "skipVersionActions": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Array of projects which should use a no-op VersionActions implementation rather than any potentially inferred by default or via Inference Plugins."
            },
            {
              "type": "boolean",
              "description": "When set to true, all projects in the release setup/release group will use a no-op VersionActions implementation."
            }
          ],
          "description": "Projects which should use a no-op VersionActions implementation rather than any potentially inferred by default or via Inference Plugins. Can be an array of project names (subset of projects in the release setup/release group) or a boolean (true means all projects)."
        },
        "versionSchemes": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "Record of named version patterns to choose between when versioning docker projects. e.g. \"production\": \"{currentDate|YYMM.DD}.{shortCommitSha}\", \"hotfix\": \"{currentDate|YYMM.DD}-hotfix\""
        },
        "repositoryName": {
          "type": "string",
          "description": "Repository name for the image on the configured registry"
        },
        "registryUrl": {
          "type": "string",
          "description": "Url of the Docker Image/Container Registry to push images to. Defaults to Docker Hub."
        }
      },
      "additionalProperties": false
    },
    "NxReleaseGroupDockerConfiguration": {
      "type": "object",
      "properties": {
        "groupPreVersionCommand": {
          "type": "string",
          "description": "A command to run after validation of nx release configuration, but before docker versioning begins. Used for preparing docker build artifacts. If --dry-run is passed, the command is still executed, but with the NX_DRY_RUN environment variable set to 'true'. It will run in addition to the global `preVersionCommand`"
        },
        "skipVersionActions": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Array of projects which should use a no-op VersionActions implementation rather than any potentially inferred by default or via Inference Plugins."
            },
            {
              "type": "boolean",
              "description": "When set to true, all projects in the release setup/release group will use a no-op VersionActions implementation."
            }
          ],
          "description": "Projects which should use a no-op VersionActions implementation rather than any potentially inferred by default or via Inference Plugins. Can be an array of project names (subset of projects in the release setup/release group) or a boolean (true means all projects)."
        },
        "versionSchemes": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "Record of named version patterns to choose between when versioning docker projects. e.g. \"production\": \"{currentDate|YYMM.DD}.{shortCommitSha}\", \"hotfix\": \"{currentDate|YYMM.DD}-hotfix\""
        },
        "repositoryName": {
          "type": "string",
          "description": "Repository name for the image on the configured registry"
        },
        "registryUrl": {
          "type": "string",
          "description": "Url of the Docker Image/Container Registry to push images to. Defaults to Docker Hub."
        }
      },
      "additionalProperties": false
    }
  }
}
