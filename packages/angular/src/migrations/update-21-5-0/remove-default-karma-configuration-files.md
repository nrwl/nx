#### Remove the Default Karma Configuration Files

Removes Karma configuration files that match the default configuration generated by Angular CLI to reduce boilerplate code in the workspace. The migration also removes the `karmaConfig` option from project targets when the configuration file is removed.

#### Examples

The migration will remove `karma.conf.js` files that contain only default settings and update the project configuration:

{% tabs %}
{% tab label="Before" %}

```javascript {% fileName="apps/my-app/karma.conf.js" %}
// Karma configuration file, see link for more information
// https://karma-runner.github.io/1.0/config/configuration-file.html

module.exports = function (config) {
  config.set({
    basePath: '',
    frameworks: ['jasmine', '@angular-devkit/build-angular'],
    plugins: [
      require('karma-jasmine'),
      require('karma-chrome-launcher'),
      require('karma-jasmine-html-reporter'),
      require('karma-coverage'),
      require('@angular-devkit/build-angular/plugins/karma'),
    ],
    client: {
      jasmine: {
        // you can add configuration options for Jasmine here
        // the possible options are listed at https://jasmine.github.io/api/edge/Configuration.html
        // for example, you can disable the random execution with `random: false`
        // or set a specific seed with `seed: 4321`
      },
    },
    jasmineHtmlReporter: {
      suppressAll: true, // removes the duplicated traces
    },
    coverageReporter: {
      dir: require('path').join(__dirname, '../../coverage/my-app'),
      subdir: '.',
      reporters: [{ type: 'html' }, { type: 'text-summary' }],
    },
    reporters: ['progress', 'kjhtml'],
    browsers: ['Chrome'],
    restartOnFileChange: true,
  });
};
```

```json {% fileName="apps/my-app/project.json" highlightLines=[7] %}
{
  "name": "my-app",
  "targets": {
    "test": {
      "executor": "@angular-devkit/build-angular:karma",
      "options": {
        "karmaConfig": "apps/my-app/karma.conf.js",
        "polyfills": ["zone.js", "zone.js/testing"]
      }
    }
  }
}
```

{% /tab %}

{% tab label="After" %}

File `apps/my-app/karma.conf.js` is removed.

```json {% fileName="apps/my-app/project.json" %}
{
  "name": "my-app",
  "targets": {
    "test": {
      "executor": "@angular-devkit/build-angular:karma",
      "options": {
        "polyfills": ["zone.js", "zone.js/testing"]
      }
    }
  }
}
```

{% /tab %}
{% /tabs %}

If the Karma configuration contains customizations, the migration will preserve the file and configuration:

{% tabs %}
{% tab label="Before" %}

```javascript {% fileName="apps/custom-app/karma.conf.js" %}
module.exports = function (config) {
  config.set({
    basePath: '',
    frameworks: ['jasmine', '@angular-devkit/build-angular'],
    plugins: [
      require('karma-jasmine'),
      require('karma-chrome-launcher'),
      require('karma-jasmine-html-reporter'),
      require('karma-coverage'),
      require('@angular-devkit/build-angular/plugins/karma'),
    ],
    browsers: ['ChromeHeadless'], // Custom browser configuration
    restartOnFileChange: true,
  });
};
```

{% /tab %}

{% tab label="After" %}

```javascript {% fileName="apps/custom-app/karma.conf.js" %}
module.exports = function (config) {
  config.set({
    basePath: '',
    frameworks: ['jasmine', '@angular-devkit/build-angular'],
    plugins: [
      require('karma-jasmine'),
      require('karma-chrome-launcher'),
      require('karma-jasmine-html-reporter'),
      require('karma-coverage'),
      require('@angular-devkit/build-angular/plugins/karma'),
    ],
    browsers: ['ChromeHeadless'], // Custom browser configuration
    restartOnFileChange: true,
  });
};
```

{% /tab %}
{% /tabs %}
