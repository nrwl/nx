---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
import { render } from 'astro:content';

import {devkitPages } from '../../../utils/devkit-content-queries'
export async function getStaticPaths() {
  return await devkitPages()
}

const { doc } = Astro.props;
const { name } = Astro.params;
if (!doc) {
  throw new Error(`DevKit doc not found, ${name}`);
}

const { Content, headings } = await render(doc);
---

<StarlightPage
  frontmatter={{
    title: doc.data.title
  }}
  headings={headings || []}
>
  <Content />
</StarlightPage>
